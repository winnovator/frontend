<ion-header>
  <ion-toolbar>
    <ion-title>
      WInnovator Session {{ sessionName }}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card class="welcome-card">
    <div id='image'><img src="./assets/winnovator.svg" alt="" /></div>
    <ion-card-content>
<div class='camera'>
          <div *ngIf="availableDevices">
            <select (change)="onDeviceSelectChange($event.target.value)">
              <option value="" [selected]="!selectedDevice">Select a device</option>
              <option *ngFor="let device of availableDevices" [value]="device.deviceId"
                [selected]="selectedDevice && device.deviceId === selectedDevice.deviceId">{{ device.label }}</option>
            </select>
          </div>

          <div [hidden]="!hasCameras || qrResultString">
            <zxing-scanner #scan class="scanner" start="true" [device]="selectedDevice"
              (scanSuccess)="handleQrCodeResult($event)"></zxing-scanner>
          </div>
          <h2 *ngIf="!this.selectedDevice && !qrResultString">No camera selected.</h2>
            <p>
              Result:
              <strong>{{ qrResultString }}</strong>
            </p>
          <div *ngIf="!hasCameras && hasPermission === true">
            <h1>Looks like your actual device does not has cameras, or I could no find'em. </h1>
          </div>
          <div *ngIf="hasPermission === undefined">
            <h1>Waiting for permissions.</h1>
            <blockquote>
              <h2>If your device does not has cameras, no permissions will be asked.</h2>
            </blockquote>
          </div>
          <div *ngIf="hasPermission === false">
            <h1>You denied the camera permissions, we can't scan anything without it. ðŸ˜ª</h1>
          </div>
          </div>
      </ion-card-content>
  </ion-card>
  <ion-list lines="none">
    <ion-list-header>
      <ion-label>Links</ion-label>
    </ion-list-header>
    <ion-item href="https://windesheim.nl">
      <ion-icon slot="start" color="medium" name="book"></ion-icon>
      <ion-label>Windesheim</ion-label>
    </ion-item>
  </ion-list>

  <zxing-scanner [formats]="['QR_CODE']" #scanner></zxing-scanner>
</ion-content>